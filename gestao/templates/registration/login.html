{% extends 'gestao/base.html' %}

{% block title %}Login{% endblock %}

{% block content %}
    <div class="form-container" x-data="{ loading: false }">
        <form method="post" @submit="loading = true">
            <h2>Login</h2>
            {% csrf_token %}
            
            {% if form.errors %}
                <div style="background-color: #ffebee; color: var(--cor-perigo); padding: 10px; border-radius: 4px; margin-bottom: 15px; border: 1px solid var(--cor-perigo);">
                    Usuário ou senha inválidos. Tente novamente.
                </div>
            {% endif %}

            {{ form.as_p }}

            <button type="submit" class="btn btn-primary btn-full-width" :disabled="loading">
                <span x-show="!loading">Entrar</span>
                <span x-show="loading">Entrando...</span>
            </button>
        </form>

        <div class="links">
            <p>Não tem uma conta? <a href="{% url 'register' %}">Registre-se</a></p>
        </div>
    </div>
{% endblock %}